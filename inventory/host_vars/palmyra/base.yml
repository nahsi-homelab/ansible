base_filesystems:
  - path: "/var/tmp"
    src: "tmpfs"
    opts: "rw,nosuid,noatime,nodev,size=75%,mode=1777"
    type: "tmpfs"
  - path: "/tmp"
    src: "tmpfs"
    opts: "rw,nosuid,noatime,nodev,size=2G,mode=1777"
    type: "tmpfs"

base_sysctl:
  - name: vm.swappiness
    value: 1

base_network: |
  config_enp1s0="192.168.130.20/24"
  routes_enp1s0="default via 192.168.130.1"

base_network_interfaces:
  - name: "enp1s0"

base_packages_palmyra:
  - net-misc/r8168
  - sys-power/apcupsd
  - app-emulation/virtualbox
  - app-emulation/vagrant
base_packages: >
  {{
    base_packages_all +
    base_packages_palmyra | unique
  }}

base_services:
  - name: "docker"
    runlevel: "boot"

base_users_palmyra:
  - name: github
    comment: "GitHub actions runner user"
    create_home: false
    system: true
    groups:
      - docker
      - vboxusers
    append: true
    uid: 950
base_users: >
  {{
    base_users_all +
    base_users_palmyra | unique
  }}
