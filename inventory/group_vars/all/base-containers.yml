# https://github.com/containers/image/blob/master/docs/containers-registries.conf.5.md
base_containers_registries: |
  [registries.search]
  registries = ["docker.io", "quay.io"]

# https://github.com/containers/image/blob/master/docs/containers-policy.json.5.md
base_containers_policy:
  default:
    - type: insecureAcceptAnything

# https://github.com/containers/storage/blob/master/docs/containers-storage.conf.5.md
# base_containers_storage: ""

# https://github.com/containers/common/blob/master/docs/containers.conf.5.md
base_containers_containers: |
  [engine]
  runtime="crun"

base_containers_storage: |
  [storage]
  driver="zfs"
  runroot="/run/containers/storage"
  graphroot="/var/lib/containers/storage"
  [storage.options.zfs]
  fsname="{{ zfs_main_pool }}/containers"

base_containers_docker:
  default-runtime: "crun"
  runtimes:
    crun:
      path: "/usr/bin/crun"
  storage-driver: "zfs"
  storage-opts:
    - zfs.fsname={{ zfs_main_pool }}/containers
  log-driver: "json-file"
  log-opts:
    max-size: "32m"
    max-file: "2"
