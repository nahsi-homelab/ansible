base_filesystems:
  - path: "/var/tmp"
    src: "tmpfs"
    opts: "rw,nosuid,noatime,nodev,size=16G,mode=1777"
    type: "tmpfs"
  - path: "/tmp"
    src: "tmpfs"
    opts: "rw,nosuid,noatime,nodev,size=2G,mode=1777"
    type: "tmpfs"

base_packages_antiochia:
  - sys-power/apcupsd
  - app-emulation/virtualbox
  - app-emulation/vagrant
base_packages: >
  {{
    base_packages_all +
    base_packages_antiochia | unique
  }}

base_network: |
  config_enp35s0="192.168.130.10/24"
  routes_enp35s0="default via 192.168.130.1"

base_network_interfaces:
  - name: "enp35s0"

base_users_antiochia:
  - name: github
    comment: "GitHub actions runner user"
    create_home: false
    system: true
    groups:
      - docker
      - vboxusers
    append: true
    uid: 950
base_users: >
  {{
    base_users_all +
    base_users_antiochia | unique
  }}

base_udev_rules:
  10_virtualbox: |
    KERNEL=="vboxdrv", GROUP="vboxusers", MODE="0660"
    KERNEL=="vboxdrvu", GROUP="root", MODE="0666"
    KERNEL=="vboxnetctl", GROUP="vboxusers", MODE="0660"
