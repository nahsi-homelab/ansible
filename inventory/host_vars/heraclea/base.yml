base_sysctl:
  - name: vm.swappiness
    value: 1

base_wireguard_configs:
  oikumene: "{{ lookup('hashi_vault', 'secret/data/wireguard/heraclea:oikumene') }}"

base_wireguard_interfaces:
  - name: "oikumene"

base_containers_storage: |
  [storage]
  driver="overlay2"

base_containers_docker:
  default-runtime: "crun"
  runtimes:
    crun:
      path: "/usr/bin/crun"
  log-driver: "json-file"
  log-opts:
    max-size: "32m"
    max-file: "2"

base_directories:
  - path: "/var/lib/zookeeper/data"
    owner: "1001"
    group: "1001"
    mode: "0700"

  - path: "/var/lib/zookeeper/datalog"
    owner: "1001"
    group: "1001"
    mode: "0700"

  - path: "/var/lib/kafka"
    owner: "1001"
    group: "1001"
    mode: "0700"
