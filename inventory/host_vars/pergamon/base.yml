arch: "amd64"
bios: "legacy"

base_consolefont: "ter-i24b"

base_filesystems:
  - path: "/var/tmp"
    src: "tmpfs"
    opts: "rw,nosuid,noatime,nodev,size=75%,mode=1777"
    type: "tmpfs"
  - path: "/tmp"
    src: "tmpfs"
    opts: "rw,nosuid,noatime,nodev,size=2G,mode=1777"
    type: "tmpfs"

base_sshd_listen:
  - "192.168.50.10"
  - "192.168.5.2"
  - "127.0.0.1"

base_services:
  elogind: "boot"
  alsasound: "default"

base_wireguard_configs:
  syria: "{{ lookup('hashi_vault', 'secret/data/wireguard/pergamon:syria') }}"
  vpn: "{{ lookup('hashi_vault', 'secret/data/wireguard/pergamon:vpn') }}"
  office: "{{ lookup('hashi_vault', 'secret/data/wireguard/pergamon:office') }}"

base_wireguard_interfaces:
  - "syria"
  - "vpn"

base_network: |
  config_enp2s0="192.168.50.10/24"
  routes_enp2s0="default via 192.168.50.1"

base_network_interfaces:
  - "enp2s0"

base_dns:
  name_servers: 192.168.5.1
  search_domains: "node.consul service.consul"

base_docker_config_overlay:
  storage-driver: "zfs"
  storage-opts:
    - zfs.fsname=main/containers

base_containers_storage: |
  [storage]
  driver="zfs"
  [storage.options.zfs]
  fsname="main/containers"
