[defaults]
collections_path = ~/.ansible/collections/homelab/
inventory = inventory

timeout = 60
gather_timeout = 10

pipelining = True

remote_tmp = /tmp/${USER}/ansible

retry_files_enabled = False
host_key_checking = False

# https://docs.ansible.com/ansible/latest/user_guide/playbooks_error_handling.html#handlers-and-failure
force_handlers = True

# disable interpreter warning
interpreter_python = auto_silent

vault_password_file = ~/.local/bin/ansible-vault-pass-client

[ssh_connection]
PreferredAuthentications = publickey

[lookup_hashi_vault]
url = http://vault.service.consul:8200
validate_certs = False

[vault]
passwordstore = homelab/ansible/secrets
